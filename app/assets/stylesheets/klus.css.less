/*
 *= require main
 *= require_self
 *= require contributions
 *= reguire status_updates
 */
 @import "config.css.less";
 
/*
 * Common used layout for klus
 */

.klu-layout {
 	box-shadow:  2px 2px 4px rgba(0,0,0,0.05);
 	border: 1px solid rgba(0,0,0,0.15);
 	background: #fff;
 	background: rgba(255,255,255,0.8);
 	border-radius: 4px;
 	position: relative;
 	.transition(background 0.2s ease);

 	.klu-overall-rating {
 		position: absolute;
 		right: 4px;
 		top: 4px;
 		color: @grayLight;
 	}
}

.klu-title {
	font-family: @serifFontFamily, serif;
	font-style: italic;
	font-weight: normal;
	text-align: center;
	hyphens: auto;
	-ms-hyphens: auto;
	-moz-hyphens: auto;
	-webkit-hyphens: auto;
}

.klu-eyecatcher {
	img {
		border: 1px solid #ddd;
	}
	&.well {
		background: none;
	}
}

.call-btn {
	background: @brandColor;
	padding: 4% 30% (@baseFontSize * @baseLineHeight * 0.7 * 2) 4%;
	position: relative;
	color: @white;
	text-shadow:none;
	.transition(background 0.2s ease);
	max-width: 280px;
	margin: 0 auto;

	a, button {
		border: none;
		background: none;
		height: auto;
		padding: 0;
		display: inline;
		box-shadow: none;
	}

	form {
		margin-bottom: @verticalRhythm * 2;
	}

	form, button {
		display: inline-block;
	}

	.klu-price {
		position: absolute;
		margin: 0;
		left: 4%;
		bottom: 8%;
		width: 60%;
	} 

	.klu-user-image {
		position: absolute;
		display: block;
		right: 4%;
		top: 50%;
		width: 45px;
		margin-top: -22px;

		img {
			display: block;
		}
	}
	&.jqueryfied {
		display: block;
		text-align: left;

		button {
			border: none;
			background: none;
			height: auto;
			padding: 0;
			display: inline;
			box-shadow: none;
		}
	}
} /* End of call-btn */

.klu-bookmark-link {
	position: absolute;
	text-shadow: 0px 0px 1px #aaa;
	line-height: 1;

	a {
		color: @brandColor;
		.transition(color 0.2s ease);

		&:hover {
			text-decoration: none;
			color: @brandColorLighter;
		}
	}
}

/*
 *  End of common klu layout
 */

/*
 * Common .medium-klu and .small-klu layout
 */
	
.medium-klu, .small-klu {

	position: relative;

	&>a:hover {
		text-decoration: none;
	}

	&>a:first-child {
		display: block;
	}
	
	h3.no-margin {
		.klu-title;
		color: @textColor;
		font-size: 17px;
		height: 80px;
		margin: @verticalRhythm 0;
	}

	.klu-eyecatcher {
		text-align: center;

		&, img {
			min-width: 100%;
		}
	}

	.kluuu {
		.klu-eyecatcher {
			
			img {
				display: block;
			}

			img {
				max-height:100%;
				width: 100%;
				margin: 0 auto;
			}
		}
	}

	&:hover {
		 background: rgba(151,60,83,0.02);
	}

	.klu-bookmark-link {
		position: absolute;
		left: 10px;
		top: -6px;
		font-size: 125%;
	}
} /* End of common .medium-klu and .small-klu layout */

.medium-klu {
	@vertical-offset: @verticalRhythm;
	@horizontal-offset: 8px;
	padding: (@vertical-offset * 2) @horizontal-offset @vertical-offset;

	.klu-overall-rating {
		top: 4px;
		right: @horizontal-offset;
		font-size: @baseFontSize - 2px;
	}

	&.kluuu {
		.kluuu-description {
			height: 12px * @baseLineHeight * 3;
			overflow:hidden;
			margin: @verticalRhythm 2px;
			color: @textColor;
			font-size: 12px;

			p {
				margin: 0;
			}
		}
	}
} /* End of .medium-klu */

.small-klu.klu-layout, .large-klu .small-klu.klu-layout {

	@vertical-offset: @verticalRhythm;
	@horizontal-offset: 8px;
	padding: (@vertical-offset * 2.5) @horizontal-offset @vertical-offset;

	.klu-overall-rating {
		top: 4px;
		right: @horizontal-offset;
		font-size: @baseFontSize - 2px;
	}
	
	.klu-title {
		padding-right: 40px;
		height: 40px;
	}

	.klu-user-image {
		position: absolute;
		right: 9px;
		bottom: 22px;
	  
	  img {
      width: 30px;
      height: 30px;
    }
  }
} /* End of .small-kluu */

.large-klu {
	@horizontal-offset: 30px;
	@vertical-offset: 20px;
	@large-klu-padding-top: @verticalRhythm * 3;

	padding-top: @large-klu-padding-top;
	padding-bottom: 30px;
	position: relative;

	.klu-title {
		height: 32px * 1.5;
	}

	.klu-availability {
		font-size: @baseFontSize - 2;
		margin-bottom: @verticalRhythm/2;
	}

	.klu-layout {
		padding: @vertical-offset @horizontal-offset;

		.kluuu-pics {

			ul {
				margin: 0;
				.clearfix;
			}

			li {
				position: relative;
				float: left;
				width: 74px;
				height: 56px;
				line-height: 56px;
				text-align: center;
				border: 1px solid rgba(0,0,0,0.2);
				font-size: 0;

				img {
					font-size: 0;
					vertical-align: middle;
					max-height: 100%;
				}

				.kluuu-image-edit-link {
					display: block;
					position: absolute;
					background: white;
					background: rgba(128,128,255,0.3);
					right: 0px;
					top: 0px;
					font-size: @baseFontSize;
					line-height: 1;
					padding: 1px 4px;
				}
			}

			li.klu-eyecatcher {
				float: none;
				width: auto;
				position: relative;
				height: auto;
				text-align: center;
			}

			img {
				font-size: 0;
				vertical-align: middle;
				max-height: 100%;
				display: block;
			}

			.klu-image-caption {
				position: absolute;
				left: 0;
				bottom: 0;
				background: white;
				width: 100%;
				opacity: 0.66;
				line-height: (@baseFontSize - 3) * @baseLineHeight;
				font-size: @baseFontSize - 3;
				padding: 4px 10px;
				text-align: left;
			}

			&.jqueryfied {
				position: relative;
				overflow: hidden;
				cursor: pointer;

				.klu-eyecatcher {
					position: absolute;
					top: 0;
					width: 100%;
					height: 100%;
				}
			}
		}

		.klu-user-info {
			box-shadow: 1px 1px 1px rgba(0,0,0,0.15) inset, -1px -1px 1px rgba(0,0,0,0.15) inset;
			position: relative;
			height: 100%;

			.contribution.status {
				padding: 18px 9px 9px 36px;
				min-height: auto;

				.contribution-user-image {
					font-size: 168%;
					left: 8px;
					top: 16px;
				}

				.contribution-user-name {
					left: 8px;
					top: 4px;
				}
			}
		}

		.klu-user-info-inner {
			& > h4 {
				margin-bottom: 20px;

				a:hover {
					text-decoration: none;
				}
			}

			& > nav {
				li {
					margin: @verticalRhythm/2 0;
				}
			}
		}
	} /* End of .large-klu .klu-layout */

	.large-klu-left {
		padding: 0  30px;
	}

	.klu-bookmarked-by {
		li {
			display: inline-block;
			margin: 3px;
		}
	}

	.klu-meta {
		margin-top: @verticalRhythm;
		margin-left: 11px;
		font-size: @baseFontSize - 3px;

		ul {
			margin: 0;
		}

		.klu-categories, .klu-tags, .klu-bookmarked-by {
			float: left;
		}

		.klu-categories, .klu-bookmarked-by {
			width: 33%;
		}

		.klu-tags {
			width: 67%;

			li {
				display: inline;
			}
		}
	} /* End of .klu-meta */

	.klu-rating{
		.klu-rating-stars{
			position: absolute;
			right:0;
			top: 12px;
		}
	}

	.klu-top-bar {
		position: absolute;
		top: 0;
		left: 0px;
		width: 74.359%;

		ul {
			margin: 0;
			position: absolute;
		}

		li {
			display: inline;
		}
		
		.klu-actions {
			left: 30px;
			top: 0;
		}

		.klu-socials {
			float: right;
		}

		.klu-bookmark-link {
			top: 23px;
			left: -6px;
			
			i {
				font-size: 40px;
			}
		}
	} /* End of klu-top-bar */

	.klu-user-info {
		.klu-user-info-inner {
			padding: @verticalRhythm 4%;
			position: relative;
			font-size: @baseFontSize - 2;

			.klu-user-image {
				height: 28px;
				margin-right: 8px;
			}

			h4 {
				margin: 0 0 @verticalRhythm;
				line-height: 1.2;
			}
			.klu-status-or-about {
				margin: @verticalRhythm 0;
			}

			nav {
				.btn{
					margin-left: -2px;
				}
			}
		}
	}
	.klu-user-info-more-klus {
		margin-top: @verticalRhythm;
		font-size: @baseFontSize - 4;
		margin-top: @verticalRhythm;
	}

	.klu-overall-rating {
		right: @horizontal-offset;
		top: @verticalRhythm;
	}

	.klu-matches {
		h4 {
			font-size: @baseFontSize;
			color: @grayLight;
			//margin: -(@baseFontSize * @baseLineHeight + @verticalRhythm) 0 @verticalRhythm;
		}

		.small-klu {
			margin: (@verticalRhythm * 2) 0;

			&:first-child {
				margin-top: 0;
			}

			&:last-child {
				margin-bottom: 0;			}
		}
	}

} /* End of .large-klu */

.no-kluuu.large-klu {
	h2 {
		margin: 0 0 (@baseFontSize * @baseLineHeight)/2;
	}
}

.kluuu-add-image-link {
	margin-top: @verticalRhythm;
}



.klu-new {
	.klu-new-help {
		margin-top: @verticalRhythm;
		display: inline-block;
		background: lighten(@brandColorGrey, 15%);
		color: @white;
		padding: @verticalRhythm/4 @verticalRhythm;
		border-radius: 5px;
	}
	.well {
		margin: @verticalRhythm 0;
	}
}

.klu-form {
	.klu-title {
		height: auto;
		text-align: left;
	}

	&.kluuu {

		.kluuu-pics {
			li {
				margin: @verticalRhythm;
				float: left;
			}
			li.klu-eyecatcher {
				margin: 0;
				float: none;
			}
		}
	}
}

.kluuu.klu-layout, .kluuu .klu-layout {
	background-color: desaturate(lighten(@brandColor, 55%), 35%); /*, 180); */
	background-color: spin(desaturate(lighten(@brandColor,45%),45%),30%); 
	background-color: #fff;
	/* background-color: #889926; 
	h3{
		color:#fff
	}
	*/
}

.no-kluuu.klu-layout, .no-kluuu .klu-layout {
	background-color: desaturate(lighten(@brandColor, 60%), 12%);
	background-color: #FFF9E4;
}

.tiny-klu {
	margin: @verticalRhythm 0;
	max-width: 400px;

	a & {
		color: @textColor;
	}

	a:hover & {
		color: lighten(@textColor, 10%);

		h3 span {
			text-decoration: none;
		}
	}

	&.klu-layout {
		position: relative;
		padding: @verticalRhythm/2 50px @verticalRhythm/2 @verticalRhythm/2;
	}

	.klu-user-image {
		position: absolute;
		right: @verticalRhythm/2;
		bottom: @verticalRhythm/2;
		width: 35px;
		height: 35px;
	}

	&.kluuu {

		padding: (@verticalRhythm/2) 50px @verticalRhythm/2 90px ;

		.klu-eyecatcher {
			position: absolute;
			left: @verticalRhythm/2;
			top: @verticalRhythm/2;

			img{
				height: 60px;
				width: 79px;
			}
		}

		.klu-overall-rating {
			font-size: 8px;
			top: 2px;
		}
	}

	.klu-title {
		height: 60px;
	}
}